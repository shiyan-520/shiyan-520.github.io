<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>sh1yan&#39;blog</title>

  
  <meta name="author" content="shiyan">
  

  
  <meta name="description" content="信息安全|网络安全|渗透测试|代码审计|安全审计">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="sh1yan&#39;blog">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="sh1yan&#39;blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">sh1yan&#39;blog</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
        <li><a href="/yqlj">友链</a></li>
      
        <li><a href="/atom.xml">订阅</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2019/09/07/A-Weekend-Disturbed-by-CVE-2019-0708 (Life-Chapter)/"><span>被CVE-2019-0708打扰的一个周末（生活篇）</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/09/07/A-Weekend-Disturbed-by-CVE-2019-0708 (Life-Chapter)/" rel="bookmark">
        <time class="entry-date published" datetime="2019-09-07T09:50:55.000Z">
          2019-09-07
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>我的性格一般来说，是很少去复现一些漏洞的，尤其是系统层的，因为水平太菜，复现也就是简单的直接搭环境，然后exp打，想理解原理也理解不了。但是因为这个漏洞前段时间被称为核弹级的漏洞，所以我就凑个热闹来搞搞。</p>
<p>文章以叙事性描写，非常规复现篇。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/生活记录/">生活记录</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/漏洞复现/">漏洞复现</a><a href="/tags/生活记录/">生活记录</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/09/01/Record-the-process-of-adding-two-fields-to-a-script-at-a-time/"><span>记录一次给某脚本增加两个字段的过程</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/09/01/Record-the-process-of-adding-two-fields-to-a-script-at-a-time/" rel="bookmark">
        <time class="entry-date published" datetime="2019-08-31T16:35:55.000Z">
          2019-09-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>周五快下班的时候，想着终于结束了一周挖坑种树的活，可以休息两天了。没想到，隔壁工地一朋友滴滴我，让我帮忙在一个脚本输出结果上增加两个字段，于是就有了本文。</p>
<p>注：学习别人的code编写思路，也是一种成长。</p>
<p><strong>0x01 接收脚本</strong></p>
<p>文件地址：<a href="链接: https://pan.baidu.com/s/1Xe496gG8fX2sPDp1CkO8MQ 提取码: p82b 复制这段内容后打开百度网盘手机App，操作更方便哦">连接（原始和完善后均在）</a></p>
<p>接收到脚本后，看到这是一个 nsfocus rsas V6版本的一个漏洞报告转存工具，也就是把HTML页面的漏洞转存为Excel形式。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/脚本编写/">脚本编写</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/安全服务/">安全服务</a><a href="/tags/脚本编写/">脚本编写</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/08/13/Thoughts-Expanded-from-Safety-Audit/"><span>由安全审计扩展出的思维感悟</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/08/13/Thoughts-Expanded-from-Safety-Audit/" rel="bookmark">
        <time class="entry-date published" datetime="2019-08-13T13:52:55.000Z">
          2019-08-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>前言：</strong></p>
<p>从今年3月份开始，到现在已经一轮过去了，现在是开始第二轮，虽说不知道这个分享制度还会坚持多长时间，但是毕竟也是对各位好的，个人由衷的还是希望大家都能正确对待这件事，保持好这个良好的传统。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/学习笔记/">学习笔记</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/安全审计/">安全审计</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/07/28/MSF-Command-Notes/"><span>MSF之命令笔记篇</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/07/28/MSF-Command-Notes/" rel="bookmark">
        <time class="entry-date published" datetime="2019-07-28T15:50:55.000Z">
          2019-07-28
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 一键式安装</strong></p>
<p>Ubuntu-System</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb &gt; msfinstall &amp;&amp; \</span><br><span class="line">chmod <span class="number">755</span> msfinstall &amp;&amp; \</span><br><span class="line">./msfinstall</span><br></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/命令备忘/">命令备忘</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/metasploit/">metasploit</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/07/20/CS-Command-Notes/"><span>CS之命令笔记篇</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/07/20/CS-Command-Notes/" rel="bookmark">
        <time class="entry-date published" datetime="2019-07-20T03:50:55.000Z">
          2019-07-20
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00  文件架构</strong></p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">│  agscript            拓展应用的脚本</span><br><span class="line">│  c2lint              检查profile的错误异常</span><br><span class="line">│  cobaltstrike        linux下启动脚本</span><br><span class="line">│  cobaltstrike.jar    客户端程序</span><br><span class="line">│  teamserver          服务端程序</span><br><span class="line">│  update              更新脚本</span><br><span class="line">│  update.jar          更新程序</span><br><span class="line">│</span><br><span class="line">└─third-party          第三方工具</span><br><span class="line">        README.vncdll.txt</span><br><span class="line">        vncdll.x64.dll</span><br><span class="line">        vncdll.x86.dll</span><br></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/命令备忘/">命令备忘</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Cobalt-Strike/">Cobalt Strike</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/07/11/UAC-and-ByPass-UAC/"><span>UAC与ByPass-UAC</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/07/11/UAC-and-ByPass-UAC/" rel="bookmark">
        <time class="entry-date published" datetime="2019-07-11T14:50:55.000Z">
          2019-07-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>用户账号控制（UAC），这机制自win7以来就一直存在了，同时因内网渗透需要，所以我就开始继续补坑（完善知识积累）了。</p>
<p><strong>0x01 什么是UAC</strong></p>
<p>UAC 是微软在 Windows Vista 以后版本引入的一种安全机制，通过 UAC，应用程序和任务可始终在非管理员帐户的安全上下文中运行，除非管理员特别授予管理员级别的系统访问权限。UAC 可以阻止未经授权的应用程序自动进行安装，并防止无意中更改系统设置。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/漏洞研究/">漏洞研究</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/UAC/">UAC</a><a href="/tags/ByPass-UAC/">ByPass-UAC</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/06/29/Principle-and-Practice-of-COM-Component-Hijacking/"><span>COM组件劫持原理与实践</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/06/29/Principle-and-Practice-of-COM-Component-Hijacking/" rel="bookmark">
        <time class="entry-date published" datetime="2019-06-29T13:50:55.000Z">
          2019-06-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>在术的道路上，从来都是独善其行，如能结余同行，自当求之不得。</p>
<p>玄幻小说的世界结构，放之现代也是同理，望成之所成，念之所念。</p>
<p><strong>0x01 什么是COM</strong></p>
<p>什么是COM，说白了，就是一堆功能相关的interface，它是某种语言向另一种语言暴露功能的最大单位。</p>
<p>COMcomponent（COM组件）是微软公司为了计算机工业的软件生产更加符合人类的行为方式开发的一种新的软件开发技术。</p>
<p>在COM构架下，人们可以开发出各种各样的功能专一的组件，然后将它们按照需要组合起来，构成复杂的应用系统。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/漏洞研究/">漏洞研究</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/COM组件劫持/">COM组件劫持</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/06/16/The-Principle-and-Practice-of-DLL-Hijacking/"><span>DLL劫持原理与实践</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/06/16/The-Principle-and-Practice-of-DLL-Hijacking/" rel="bookmark">
        <time class="entry-date published" datetime="2019-06-15T17:25:55.000Z">
          2019-06-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>DLL劫持算是一个老的漏洞，而且乌云漏洞库中也有很多的案例，只不过案例更多的只是验证一下，并没有教如何利用。至于为什么专门抓起来再学一遍了，唉，内网渗透需要。。。</p>
<p><strong>0x01 什么是DLL</strong></p>
<p>这里先摘抄一下百度百科的解释：</p>
<blockquote>
<p>DLL(Dynamic Link Library)文件为动态链接库文件，又称“应用程序拓展”，是软件文件类型。在Windows中，许多应用程序并不是一个完整的可执行文件，它们被分割成一些相对独立的动态链接库，即DLL文件，放置于系统中。当我们执行某一个程序时，相应的DLL文件就会被调用。一个应用程序可使用多个DLL文件，一个DLL文件也可能被不同的应用程序使用，这样的DLL文件被称为共享DLL文件。</p>
</blockquote>
<p>还有一段，我觉得更好理解的。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/漏洞研究/">漏洞研究</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/DLL劫持/">DLL劫持</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/06/09/Windows-Access-Token-Security-Exploration/"><span>Windows访问令牌安全探究</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/06/09/Windows-Access-Token-Security-Exploration/" rel="bookmark">
        <time class="entry-date published" datetime="2019-06-09T15:16:26.000Z">
          2019-06-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00 前言</strong></p>
<p>access token俗称为访问令牌，围绕着该访问令牌也有着相应的渗透技巧，故而也就有这篇文章的总结。</p>
<p><strong>0x01 什么是访问令牌（access token）?</strong></p>
<p><a href="https://docs.microsoft.com/zh-cn/windows/desktop/SecAuthZ/access-tokens" target="_blank" rel="noopener">访问令牌</a>是用来描述进程或线程安全上下文的对象，令牌所包含的信息是与该user账户相关的进程或线程的身份和权限信息。当user登录时，系统通过将user输入的密码与储存在安全数据库中的密码进行对比。若密码正确，系统此时会为user生成一个访问令牌。之后，该user执行的每个进程都会拥有一个该访问令牌的拷贝。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/漏洞研究/">漏洞研究</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/access-token/">access token</a><a href="/tags/令牌伪造/">令牌伪造</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2019/06/03/Discussion-on-Silver-Bill-and-Gold-Bill/"><span>白银票据与黄金票据探究</span></a></h3>
    
  
  
  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/06/03/Discussion-on-Silver-Bill-and-Gold-Bill/" rel="bookmark">
        <time class="entry-date published" datetime="2019-06-03T15:52:55.000Z">
          2019-06-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>0x00  前言</strong></p>
<p>在域渗透时，肯定会接触到两个最常见的概念，白银票据和黄金票据，而这两个票据主要是围绕着Kerberos这个认证协议所产生的。</p>
<p><strong>0x01  Kerberos认证</strong></p>
<p>Kerberos 是一种网络认证协议，其设计目标是通过<a href="https://baike.baidu.com/item/%E5%AF%86%E9%92%A5" target="_blank" rel="noopener">密钥</a>系统为客户机 / 服务器应用程序提供强大的认证服务。该认证过程的实现不依赖于<a href="https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">主机操作系统</a>的认证，无需基于<a href="https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA%E5%9C%B0%E5%9D%80" target="_blank" rel="noopener">主机地址</a>的信任，不要求网络上所有主机的物理安全，并假定网络上传送的<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85" target="_blank" rel="noopener">数据包</a>可以被任意地读取、修改和插入数据。在以上情况下， Kerberos 作为一种可信任的第三方认证服务，是通过传统的<a href="https://baike.baidu.com/item/%E5%AF%86%E7%A0%81%E6%8A%80%E6%9C%AF" target="_blank" rel="noopener">密码技术</a>（如：共享密钥）执行认证服务的。<br>
      
    </p></div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/学习笔记/">学习笔记</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/域渗透/">域渗透</a><a href="/tags/Kerberos认证/">Kerberos认证</a>
    </span>
    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
  <a href="/page/2/" class="pagination-next">Next</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
	<a>不要因为走了太久而忘记当初为什么出发。</a>
    <br>
	<a>© 2019 shiyan</a>
	<br>
  </p>
</footer>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_uv"> 
<a>「</a>
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
<a>  」</a>
</span>
    
  </div>
</div>
</body>
</html>